version: 0.0.1   # Required
apimServiceName: ehsan-ebillinghub   # Required, must match name of an apim service deployed in the specified resource group

certificates:
    - id: 1
      data: asas #base 64 encoded certificate using the application/x-pkcs12 representation.
      password: dddd #password for the Certificate

apiVersionSets:
    - id: ValidationApiVersionSet
      displayName: ValidationApiVersionSet
      description: Contains the Validation APIs.
      versioningScheme: Segment
    - id: SubmissionApiVersionSet
      displayName: SubmissionApiVersionSet
      description: Contains the Submission APIs.
      versioningScheme: Segment
    - id: StatusApiVersionSet
      displayName: StatusApiVersionSet
      description: Contains the Status APIs.
      versioningScheme: Segment
      
apis:
    - name: ValidationApiV1
      displayName: ValidationApiV1   
      openApiSpec: C:\Users\u6104652\source\repos\azure-api-management-devops-resource-kit\example\demo\Input\ValidationOpenApi.json    # Required, can be url or local file
      policy: C:\Users\u6104652\source\repos\azure-api-management-devops-resource-kit\example\demo\Input\ValidationApiPolicy.xml   # Optional, can be url or local file
      suffix: validation
      apiVersion: v1
      apiVersionSetId: ValidationApiVersionSet
      apiRevision: 1
      products: BusinessPkg1
      protocols: http, https
      subscriptionRequired: true
      isCurrent: true
      subscriptionKeyParameterNames: 
         header: ProviderKey
         query: ProviderKey         
         
    - name: SubmissionApiV1   
      displayName: SubmissionApiV1
      openApiSpec: C:\Users\u6104652\source\repos\azure-api-management-devops-resource-kit\example\demo\Input\SubmissionOpenApi.json    # Required, can be url or local file
      policy: C:\Users\u6104652\source\repos\azure-api-management-devops-resource-kit\example\demo\Input\SubmissionApiPolicy.xml  # Optional, can be url or local file
      suffix: submission
      apiVersion: v1
      apiVersionSetId: SubmissionApiVersionSet
      apiRevision: 1
      products: BusinessPkg1
      protocols: http, https
      subscriptionRequired: true
      isCurrent: true
      subscriptionKeyParameterNames: 
         header: ProviderKey
         query: ProviderKey
         
    - name: StatusApiV1
      displayName: StatusApiV1
      openApiSpec: C:\Users\u6104652\source\repos\azure-api-management-devops-resource-kit\example\demo\Input\StatusOpenApi.json    # Required, can be url or local file
      policy: C:\Users\u6104652\source\repos\azure-api-management-devops-resource-kit\example\demo\Input\StatusApiPolicy.xml   # Optional, can be url or local file
      suffix: status
      apiVersion: v1
      apiVersionSetId: StatusApiVersionSet
      apiRevision: 1
      products: BusinessPkg2
      protocols: http, https
      subscriptionRequired: true
      isCurrent: true
      subscriptionKeyParameterNames: 
         header: ProviderKey
         query: ProviderKey
         
products:
    - displayName: AutomationTests
      description: Product for automation tests
      subscriptionRequired: true
      approvalRequired: true
      subscriptionsLimit: 1
      state: notPublished
      policy: C:\Users\u6104652\source\repos\azure-api-management-devops-resource-kit\example\demo\Input\ProductPolicy.xml
      
    - displayName: BusinessPkg1
      description: EBH Business Package 1
      subscriptionRequired: true
      approvalRequired: true
      subscriptionsLimit: 1
      state: notPublished
      policy: C:\Users\u6104652\source\repos\azure-api-management-devops-resource-kit\example\demo\Input\ProductPolicy.xml
      
    - displayName: BusinessPkg2
      description: EBH Business Package 2
      subscriptionRequired: true
      approvalRequired: true
      subscriptionsLimit: 1
      state: notPublished
      policy: C:\Users\u6104652\source\repos\azure-api-management-devops-resource-kit\example\demo\Input\ProductPolicy.xml 
      
    - displayName: BusinessPkg3
      description: EBH Business Package 3
      subscriptionRequired: true
      approvalRequired: true
      subscriptionsLimit: 1
      state: notPublished
      policy: C:\Users\u6104652\source\repos\azure-api-management-devops-resource-kit\example\demo\Input\ProductPolicy.xml  
      
    - displayName: SystemMonitoring
      description: Product for system monitoring
      subscriptionRequired: true
      approvalRequired: true
      subscriptionsLimit: 1
      state: notPublished
      policy: C:\Users\u6104652\source\repos\azure-api-management-devops-resource-kit\example\demo\Input\ProductPolicy.xml

backends:
    - title: ValidationBackend
      description: ValidationBackend
      url: https://ehsan-validation.com:4436/
      protocol: http
      credentials:
        certificate:
            - 15044E02B20B6D1341220EC7AC3B2360EBBA7A7D
    - title: SubmissionBackend
      description: SubmissionBackend
      url: https://ehsan-submission.com:4436/
      protocol: http
      credentials:
        certificate:
            - 15044E02B20B6D1341220EC7AC3B2360EBBA7A7D
    - title: StatusBackend
      description: StatusBackend
      url: https://ehsan-status.com:4436/
      protocol: http
      credentials:
        certificate:
            - 15044E02B20B6D1341220EC7AC3B2360EBBA7A7D
    
  
outputLocation: C:\Users\u6104652\source\repos\azure-api-management-devops-resource-kit\example\demo\Input\Output 
linked: true
linkedTemplatesBaseUrl : https://ehsanm.blob.core.windows.net/apimarm  # Required if 'linked' property is set to true